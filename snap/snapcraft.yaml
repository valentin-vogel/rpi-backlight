name: rpi-backlight
base: core18
version: '1.0.7'
license: MIT
summary: Backlight switch for Raspberry Pi
description: |
  RPI-Backlight is a very small tool written as bash script to switch the backlight on and off.
  It includes a timer to turn the lights off at 11pm and on at 06am. These parameters are fixed.

  The tool is build for a Raspberry Pi 3 setup running Ubuntu Core. Now it is based on Core18.

  If you like to contribute, please visit my Github repository. 

icon: snap/gui/logo.png
grade: devel
confinement: devmode
architectures:
  - build-on: [armhf, arm64]
    run-on: [armhf, arm64]

apps:
  backlight-off:
    command: sh $SNAP/opt/backlight-off/bin/backlight-off.sh
    daemon: oneshot
    timer: 17:50,,17:55,,18:00,,18:05,,18:10,,18:15,,18:20,,18:25,,18:30,,18:35
  backlight-on:
    command: sh $SNAP/opt/backlight-on/bin/backlight-on.sh
    daemon: oneshot
    timer: 17:52,,17:57,,18:02,,18:07,,18:12,,18:17,,18:22,,18:27,,18:32,,18:37

parts:
  backlight-off:
    plugin: dump
    source: snap/local/scripts
    source-type: local
    organize:
      backlight-off.sh: opt/backlight-off/bin/backlight-off.sh
  backlight-on:
    plugin: dump
    source: snap/local/scripts
    source-type: local
    organize:
      backlight-on.sh: opt/backlight-on/bin/backlight-on.sh
  